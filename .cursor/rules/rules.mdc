---
alwaysApply: true
---

# Règles Cursor pour le projet Magnus Dev

## Format des fichiers

- **Tous les fichiers** : Toujours utiliser le format `.mdx` (et non `.md`) pour tous les fichiers de contenu
- **Blog** : Toujours utiliser le format `.mdx` pour les articles de blog dans le dossier `blog/`
- **Documentation** : Toujours utiliser le format `.mdx` pour les fichiers de documentation dans `docs/`
- Les fichiers doivent être créés avec l'extension `.mdx` pour permettre l'utilisation de composants React
- Exemple blog : `blog/YYYY-MM-DD-nom-article/index.mdx`
- Exemple docs : `docs/category/page.mdx`

## Structure des articles de blog

- Utiliser le format MDX pour tous les nouveaux articles de blog
- Les articles peuvent inclure des composants React interactifs
- Le frontmatter doit inclure : slug, title, authors, tags, date, description

## Documentation

- Utiliser le format MDX pour tous les fichiers de documentation dans `docs/`
- Les pages peuvent inclure des composants React interactifs
- Le frontmatter doit inclure : id, title, sidebar_position (si applicable), image (si applicable)

## Configuration des catégories

- **Lier le titre de catégorie à la page d'introduction** : Pour que le titre de catégorie dans la sidebar ouvre la page d'introduction et que cette page n'apparaisse plus dans la liste :
  1. Dans le fichier `_category_.json` de la catégorie, ajouter un lien vers la page intro :
     ```json
     {
       "label": "Nom de la catégorie",
       "position": 2,
       "collapsed": true,
       "link": {
         "type": "doc",
         "id": "nom-categorie/intro"
       }
     }
     ```
  2. Dans la page d'introduction (`intro.mdx`), **ne pas inclure** `sidebar_position` dans le frontmatter (ou le retirer si présent)
  3. Le frontmatter de la page intro doit contenir : `id: intro`, `title: Introduction`, et l'image si applicable
- Cette configuration permet de cliquer sur le titre de catégorie pour accéder à l'introduction, sans que la page intro apparaisse en double dans la liste

## Imports Backlinks (OBLIGATOIRE)

- **TOUJOURS** importer le composant Backlink dans tous les fichiers `.mdx`
- L'import doit être placé après le frontmatter YAML et avant le contenu Markdown
- Le composant `<Backlink />` doit être ajouté à la fin de chaque page
- Format obligatoire :

```mdx
---
id: page-id
title: Page Title
---

import { Backlink } from '@koroligor/docusaurus-plugin-backlinks/components';

# Contenu de la page

... contenu ...

<Backlink documentPath="/docs/chemin-de-la-page" />
```

- Pour les articles de blog : `<Backlink documentPath="/blog/slug-article" />`
- Pour les pages de documentation : `<Backlink documentPath="/docs/chemin-page" />`
- Le `documentPath` doit correspondre exactement au chemin de la page (sans extension)

## Préservation des imports

- **NE JAMAIS** supprimer les imports dans les fichiers `.mdx`
- Les imports doivent être préservés entre le frontmatter YAML et le contenu Markdown
- Le formatage automatique est désactivé pour les fichiers `.mdx` pour préserver les imports

## Diagrammes Mermaid

- **Mermaid est activé** dans le projet et peut être utilisé dans tous les fichiers `.mdx`
- Utiliser des blocs de code avec la syntaxe `mermaid` pour créer des diagrammes
- Format :

````mdx
```mermaid
graph TD
    A --> B
    B --> C
```
````

- Types de diagrammes disponibles :
  - Diagrammes de flux (flowchart)
  - Diagrammes de séquence
  - Diagrammes de classe
  - Diagrammes d'état
  - Diagrammes de Gantt
  - Diagrammes en camembert
  - Diagrammes Git
  - Et plus encore...

- Les diagrammes s'adaptent automatiquement au thème clair/sombre du site